<div class="container my-5">
  <h2 class="mb-4 fw-bold">My Wishlist</h2>

  <div class="row g-4">
    @for (product of wishlist; track product.id) {
      <div class="col-12 col-sm-6 col-md-3 col-lg-3">
        <div
          class="card border-0 shadow-sm h-100 position-relative wishlist-card"
          (click)="goToProduct(product.id)"
          style="cursor:pointer; border-radius: 20px; overflow:hidden;"
        >
          <button
            class="btn  position-absolute top-0 end-0 m-2 rounded-circle delete-btn"
            (click)="removeFromWishlist(product.id, $event)"
            title="Remove from wishlist"
          >
            <i class="fa-solid fa-trash-can"></i>
          </button>

          <img
            [src]="product.image_url"
            class="card-img-top p-3"
            [alt]="product.name"
            style="height:220px;object-fit:contain;"
          />

          <div class="card-body d-flex flex-column text-center">
            <h6 class="fw-semibold text-dark mb-2">{{ product.name }}</h6>

            <div class="mb-2">
              <span class="badge bg-success">{{ product.rating || 0 }} â˜…</span>
              <small class="text-muted ms-1">
                ({{ product.reviews_count || 0 }} reviews)
              </small>
            </div>

            <div class="fs-5 fw-bold text-primary mb-2">${{ product.price }}</div>
          </div>
        </div>
      </div>
    }

    @if (wishlist.length === 0) {
      <div class="text-center text-muted mt-5">
        
        <i class="fa-regular fa-heart fs-1 mb-3"></i>
        <p>No products in your wishlist.</p>
      </div>
    }
  </div>
</div>
